<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Categories</title>
    <link rel="stylesheet" type="text/css" th:href="@{/css/productform.css}" />
</head>
<body>
	<div class="product-container">
		<div class="brand">Bookstore</div>  
		<div class="tagline">Your gateway to great reads</div>
	    <h1>Choose a Category</h1>
	    <div class="category-grid">
			<button th:onclick="'location.href=\'/categories/genre/Kids Books\''">Kids</button>
	        <button th:onclick="'location.href=\'/categories/genre/Science Fiction\''">Sci-Fi</button>
			<button th:onclick="'location.href=\'/categories/genre/Fantasy\''">Fantasy</button>
			<button th:onclick="'location.href=\'/categories/genre/Fiction\''">Fiction</button>
			<button th:onclick="'location.href=\'/categories/genre/Non-Fiction\''">Non-Fiction</button>
			<button th:onclick="'location.href=\'/categories/genre/Dystopian Fiction\''">Dystopian Fiction</button>
			<button th:onclick="'location.href=\'/categories/genre/Poetry\''">Poetry</button>
	        <button th:onclick="'location.href=\'/categories/format/Hardcover\''">Hardcover</button>
	        <button th:onclick="'location.href=\'/categories/format/Paperback\''">Paperback</button>
	        <button th:onclick="'location.href=\'/categories/format/Ebook\''">Ebook</button>
			<button th:onclick="'location.href=\'/categories/format/Audiobook\''">Audiobook</button>
	        <button th:onclick="'location.href=\'/categories/price/under10\''">Under $10</button>
	    </div>

	    <!-- Conditionally show this only if products exist -->
	    <div th:if="${products != null}">
	        <h2 th:text="'Category: ' + ${categoryName}"></h2>
	        <table class="product-table">
	            <thead>
	                <tr>
	                    <th>Title</th>
	                    <th>Author</th>
	                    <th>Genre</th>
	                    <th>Format</th>
	                    <th>Price</th>
						<th>ISBN</th>
	                    <th>Stock</th>
	                </tr>
	            </thead>
	            <tbody>
	                <tr th:each="product : ${products}">
	                    <td th:text="${product.title}"></td>
	                    <td th:text="${product.author}"></td>
	                    <td th:text="${product.genre}"></td>
	                    <td th:text="${product.format}"></td>
	                    <td th:text="${product.price}"></td>
						<td th:text="${product.isbn}"></td>
	                    <td th:text="${product.stock}"></td>
	                </tr>
	            </tbody>
	        </table>
	    </div>
	</div>

</body>
</html>
