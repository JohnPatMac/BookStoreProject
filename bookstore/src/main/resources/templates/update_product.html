<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Update Product</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" th:href="@{/css/productform.css}" />
</head>
<body>
    <div class="product-container">
        <h2>Update Product</h2>
        <form th:action="@{/products/update(id=${product.id})}" th:object="${product}" method="post">

            <div class="form-row">
                <div class="form-group">
                    <label for="title">Title:</label>
                    <input type="text" th:field="*{title}" id="title" required />
                    <div th:if="${#fields.hasErrors('title')}" th:errors="*{title}" class="error"></div>
                </div>

                <div class="form-group">
                    <label for="author">Author:</label>
                    <input type="text" th:field="*{author}" id="author" required />
                    <div th:if="${#fields.hasErrors('author')}" th:errors="*{author}" class="error"></div>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="price">Price:</label>
                    <input type="number" step="0.01" th:field="*{price}" id="price" required />
                    <div th:if="${#fields.hasErrors('price')}" th:errors="*{price}" class="error"></div>
                </div>

                <div class="form-group">
                    <label for="genre">Genre:</label>
                    <input type="text" th:field="*{genre}" id="genre" required />
                    <div th:if="${#fields.hasErrors('genre')}" th:errors="*{genre}" class="error"></div>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="isbn">ISBN:</label>
                    <input type="text" th:field="*{isbn}" id="isbn" required />
                    <div th:if="${#fields.hasErrors('isbn')}" th:errors="*{isbn}" class="error"></div>
                </div>

                <div class="form-group">
                    <label for="format">Format:</label>
                    <select th:field="*{format}" id="format" required>
                        <option value="">-- Select Format --</option>
                        <option value="Hardcover">Hardcover</option>
                        <option value="Paperback">Paperback</option>
                        <option value="eBook">eBook</option>
                        <option value="Audiobook">Audiobook</option>
                    </select>
                    <div th:if="${#fields.hasErrors('format')}" th:errors="*{format}" class="error"></div>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="stock">Stock Availability:</label>
                    <input type="number" th:field="*{stock}" id="stock" required />
                    <div th:if="${#fields.hasErrors('stock')}" th:errors="*{stock}" class="error"></div>
                </div>
            </div>

            <button type="submit">Update Product</button>
        </form>
		
		<div th:if="${successMessage}" style="color: green; font-weight: bold;">
				    <p th:text="${successMessage}"></p>
				</div>
	    <a href="/books" class="btn-primary">Back to Book Listings</a>

    </div>
</body>
</html>
